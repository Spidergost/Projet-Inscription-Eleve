-- Adminer 4.2.0 MySQL dump

SET NAMES utf8mb4;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

DROP DATABASE IF EXISTS `formation`;
CREATE DATABASE `formation` /*!40100 DEFAULT CHARACTER SET latin1 */;
USE `formation`;

DROP TABLE IF EXISTS `DATE`;
CREATE TABLE `DATE` (
  `DATE_DEBUT_FORMATION` datetime NOT NULL,
  PRIMARY KEY (`DATE_DEBUT_FORMATION`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `DATE` (`DATE_DEBUT_FORMATION`) VALUES
('2010-08-21 00:00:00'),
('2011-07-25 00:00:00'),
('2011-08-17 00:00:00'),
('2011-09-25 00:00:00');

DROP TABLE IF EXISTS `FORMATEUR`;
CREATE TABLE `FORMATEUR` (
  `ID_FORMATEUR` int(2) NOT NULL AUTO_INCREMENT,
  `ID_SALLE` int(2) NOT NULL,
  `NOM` varchar(20) DEFAULT NULL,
  `PRENOM` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`ID_FORMATEUR`),
  KEY `I_FK_FORMATEUR_SALLE` (`ID_SALLE`),
  CONSTRAINT `FORMATEUR_ibfk_1` FOREIGN KEY (`ID_SALLE`) REFERENCES `SALLE` (`ID_SALLE`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;

INSERT INTO `FORMATEUR` (`ID_FORMATEUR`, `ID_SALLE`, `NOM`, `PRENOM`) VALUES
(1,	1,	'Dupont',	'Robert'),
(2,	2,	'Martin',	'Alexis'),
(3,	3,	'Durand',	'Paul'),
(4,	4,	'Duval',	'Alain');

DROP TABLE IF EXISTS `NATIONALITE`;
CREATE TABLE `NATIONALITE` (
  `ID_NATIONALITE` int(2) NOT NULL,
  `LIBELLE` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`ID_NATIONALITE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `NATIONALITE` (`ID_NATIONALITE`, `LIBELLE`) VALUES
(1,	'Français'),
(2,	'Anglais'),
(3,	'Allemand'),
(4,	'Russe');

DROP TABLE IF EXISTS `SALLE`;
CREATE TABLE `SALLE` (
  `ID_SALLE` int(2) NOT NULL,
  `LIBELLE` varchar(25) DEFAULT NULL,
  PRIMARY KEY (`ID_SALLE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `SALLE` (`ID_SALLE`, `LIBELLE`) VALUES
(1,	'101'),
(2,	'102'),
(3,	'201'),
(4,	'202');

DROP TABLE IF EXISTS `STAGIAIRE`;
CREATE TABLE `STAGIAIRE` (
  `ID` int(2) NOT NULL AUTO_INCREMENT,
  `ID_TYPE_FORMATION` int(2) DEFAULT NULL,
  `ID_NATIONALITE` int(2) NOT NULL,
  `NOM` varchar(20) DEFAULT NULL,
  `PRENOM` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `I_FK_STAGIAIRE_TYPE_FORMATION` (`ID_TYPE_FORMATION`),
  KEY `I_FK_STAGIAIRE_NATIONALITE` (`ID_NATIONALITE`),
  CONSTRAINT `STAGIAIRE_ibfk_1` FOREIGN KEY (`ID_TYPE_FORMATION`) REFERENCES `TYPE_FORMATION` (`ID_TYPE_FORMATION`),
  CONSTRAINT `STAGIAIRE_ibfk_2` FOREIGN KEY (`ID_NATIONALITE`) REFERENCES `NATIONALITE` (`ID_NATIONALITE`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=latin1;

INSERT INTO `STAGIAIRE` (`ID`, `ID_TYPE_FORMATION`, `ID_NATIONALITE`, `NOM`, `PRENOM`) VALUES
(1,	1,	4,	'Sharapova',	'Nadia'),
(2,	2,	1,	'Monfils',	'Boby'),
(4,	2,	3,	'Becker',	'Josephine'),
(6,	2,	1,	'Dupont',	'Robert'),
(8,	1,	2,	'Murray',	'Bill');

DROP TABLE IF EXISTS `STAGIAIRE_FORMATEUR`;
CREATE TABLE `STAGIAIRE_FORMATEUR` (
  `ID` int(2) NOT NULL,
  `ID_FORMATEUR` int(2) NOT NULL,
  `DATE_DEBUT` datetime NOT NULL,
  `DATE_FIN` datetime NOT NULL,
  PRIMARY KEY (`ID`,`ID_FORMATEUR`),
  KEY `I_FK_STAGIAIRE_FORMATEUR_STAGIAIRE` (`ID`),
  KEY `I_FK_STAGIAIRE_FORMATEUR_FORMATEUR` (`ID_FORMATEUR`),
  CONSTRAINT `STAGIAIRE_FORMATEUR_ibfk_1` FOREIGN KEY (`ID`) REFERENCES `STAGIAIRE` (`ID`),
  CONSTRAINT `STAGIAIRE_FORMATEUR_ibfk_2` FOREIGN KEY (`ID_FORMATEUR`) REFERENCES `FORMATEUR` (`ID_FORMATEUR`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `STAGIAIRE_FORMATEUR` (`ID`, `ID_FORMATEUR`, `DATE_DEBUT`, `DATE_FIN`) VALUES
(1,	1,	'2011-07-25 00:00:00',	'2011-10-28 00:00:00'),
(1,	2,	'2011-10-31 00:00:00',	'2011-12-30 00:00:00'),
(2,	4,	'2011-08-26 00:00:00',	'2011-10-18 00:00:00'),
(4,	3,	'2011-08-17 00:00:00',	'2012-02-21 00:00:00'),
(6,	4,	'2011-08-21 00:00:00',	'2011-10-21 00:00:00'),
(8,	2,	'2011-08-15 00:00:00',	'2012-02-15 00:00:00');

DROP TABLE IF EXISTS `TYPE_FORMATION`;
CREATE TABLE `TYPE_FORMATION` (
  `ID_TYPE_FORMATION` int(2) NOT NULL,
  `LIBELLE` varchar(25) DEFAULT NULL,
  PRIMARY KEY (`ID_TYPE_FORMATION`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `TYPE_FORMATION` (`ID_TYPE_FORMATION`, `LIBELLE`) VALUES
(1,	'Web designer'),
(2,	'Développeur');

DROP TABLE IF EXISTS `TYPE_FORMATION_FORMATEUR`;
CREATE TABLE `TYPE_FORMATION_FORMATEUR` (
  `ID_FORMATEUR` int(2) NOT NULL,
  `ID_TYPE_FORMATION` int(2) NOT NULL,
  `DATE_DEBUT_FORMATION` datetime NOT NULL,
  `DATE_FIN_FORMATION` datetime NOT NULL,
  PRIMARY KEY (`ID_FORMATEUR`,`ID_TYPE_FORMATION`,`DATE_DEBUT_FORMATION`),
  KEY `I_FK_TYPE_FORMATION_FORMATEUR_FORMATEUR` (`ID_FORMATEUR`),
  KEY `I_FK_TYPE_FORMATION_FORMATEUR_TYPE_FORMATION` (`ID_TYPE_FORMATION`),
  KEY `I_FK_TYPE_FORMATION_FORMATEUR_DATE` (`DATE_DEBUT_FORMATION`),
  CONSTRAINT `TYPE_FORMATION_FORMATEUR_ibfk_1` FOREIGN KEY (`ID_FORMATEUR`) REFERENCES `FORMATEUR` (`ID_FORMATEUR`),
  CONSTRAINT `TYPE_FORMATION_FORMATEUR_ibfk_2` FOREIGN KEY (`ID_TYPE_FORMATION`) REFERENCES `TYPE_FORMATION` (`ID_TYPE_FORMATION`),
  CONSTRAINT `TYPE_FORMATION_FORMATEUR_ibfk_3` FOREIGN KEY (`DATE_DEBUT_FORMATION`) REFERENCES `DATE` (`DATE_DEBUT_FORMATION`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO `TYPE_FORMATION_FORMATEUR` (`ID_FORMATEUR`, `ID_TYPE_FORMATION`, `DATE_DEBUT_FORMATION`, `DATE_FIN_FORMATION`) VALUES
(1,	1,	'2011-07-25 00:00:00',	'2011-12-28 00:00:00'),
(2,	1,	'2011-09-25 00:00:00',	'2012-01-25 00:00:00'),
(3,	2,	'2010-08-21 00:00:00',	'2013-10-21 00:00:00'),
(4,	2,	'2011-08-17 00:00:00',	'2012-02-21 00:00:00');

-- 2015-04-07 08:07:13
